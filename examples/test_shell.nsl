# Test shell and file system operations
print("=== Testing Shell/Command Execution ===")

# Test shell() - runs command and captures output
print("\n1. Testing shell() function:")
let result = shell("echo Hello from NSL!")
print("Output:", result["output"])
print("Exit code:", result["exit_code"])
print("Success:", result["success"])

# Test exec() - returns exit code only
print("\n2. Testing exec() function:")
let code = exec("echo test")
print("Exit code from exec:", code)

# Test directory listing
print("\n3. Testing shell with dir command:")
let dir_result = shell("dir /b")
print("Dir output:", dir_result["output"])

print("\n=== Testing File System Operations ===")

# Test cwd()
print("\n4. Current working directory:")
print(cwd())

# Test file_exists()
print("\n5. Testing file_exists():")
print("README.md exists:", file_exists("E:\\NSL.Interpreter\\README.md"))
print("NonExistent.txt exists:", file_exists("NonExistent.txt"))

# Test write_file() and read_file()
print("\n6. Testing write_file() and read_file():")
let test_path = "E:\\NSL.Interpreter\\examples\\test_output.txt"
write_file(test_path, "Hello from NSL!\nThis is a test file.")
let content = read_file(test_path)
print("File content:", content)

# Test file_info()
print("\n7. Testing file_info():")
let info = file_info(test_path)
print("File name:", info["name"])
print("File size:", info["size"])
print("File exists:", info["exists"])

# Test list_dir()
print("\n8. Testing list_dir():")
let listing = list_dir("E:\\NSL.Interpreter\\examples")
print("Files in examples directory:", listing["files"])

# Test dir_exists()
print("\n9. Testing dir_exists():")
print("examples dir exists:", dir_exists("E:\\NSL.Interpreter\\examples"))
print("fake_dir exists:", dir_exists("E:\\NSL.Interpreter\\fake_dir"))

# Cleanup - delete test file
print("\n10. Cleaning up test file:")
let deleted = delete_file(test_path)
print("File deleted:", deleted)
print("File still exists:", file_exists(test_path))

print("\n=== All Tests Complete ===")
