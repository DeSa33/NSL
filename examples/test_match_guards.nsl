# Test pattern matching with guards

fn classify_number(x: number) {
    match x {
        case n when n > 100.0 => "very large"
        case n when n > 10.0 => "large"
        case n when n > 0.0 => "positive"
        case n when n == 0.0 => "zero"
        case n when n > -10.0 => "small negative"
        case _ => "very negative"
    }
}

fn main() {
    print("Testing pattern matching guards:")

    print("classify_number(200):")
    print(classify_number(200.0))

    print("classify_number(50):")
    print(classify_number(50.0))

    print("classify_number(5):")
    print(classify_number(5.0))

    print("classify_number(0):")
    print(classify_number(0.0))

    print("classify_number(-5):")
    print(classify_number(-5.0))

    print("classify_number(-100):")
    print(classify_number(-100.0))

    # Test with Result type and guards
    print("Testing guards with Result:")
    let r = ok(42.0)
    match r {
        case ok(v) when v > 50.0 => print("Ok with value > 50")
        case ok(v) when v > 0.0 => print("Ok with value > 0")
        case ok(v) => print("Ok with other value")
        case err(e) => print("Error")
    }

    print("Done!")
}
